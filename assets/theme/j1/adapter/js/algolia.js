/*
 # -----------------------------------------------------------------------------
 # ~/assets/theme/j1/adapter/js/algolia.js
 # J1 Adapter for Algolia
 #
 # Product/Info:
 # https://jekyll.one
 #
 # Copyright (C) 2023-2025 Juergen Adams
 #
 # J1 Template is licensed under the MIT License.
 # For details, see: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE
 # -----------------------------------------------------------------------------
 #  Adapter generated: 2025-09-27 02:24:16 +0200
 # -----------------------------------------------------------------------------
*/
"use strict";j1.adapter.algolia=(e=>{const a="development"===e.env||"dev"===e.env;var t,i,n,s,d,r={};return{init:n=>{var l=$.extend({module_name:'j1.adapter.algolia',generated:'2025-09-27 02:24:16 +0200'},n);t=e.adapter.algolia,i=log4javascript.getLogger('j1.adapter.algolia'),s=Date.now(),t.setState('started'),a&&i.debug('state: '+t.getState()),i.info('module is being initialized'),r=$.extend({},{enabled:!1,application_id:"your_application_id",search_only_api_key:"your_searchonly_api_key",index_name:"your_index_name",extensions_to_index:["adoc"],files_to_exclude:[]}),void 0!==l&&(r=$.extend({},r,l));var o=instantsearch({appId:r.application_id,apiKey:r.search_only_api_key,indexName:r.index_name,routing:!0}),c=e=>{if(new RegExp('^/pages|^/posts|^/collections').test(e.url)){var a='';e.date&&(a=moment.unix(e.date).format('MMM D, YYYY'));var t=e.url;const n=e._highlightResult.title.value;e._highlightResult.headings&&e._highlightResult.headings.map(e=>`<span class="post-breadcrumb">${e.value}</span>`).join(' > ');var i=e._highlightResult.html.value;return`\n            <li class="search-result-item">\n              <div class="card card-flat">\n                <div class="card-body">\n                  <span class="post-meta">${a}</span>\n                  <h2 class="card-title">${n}</h2>\n                  <h6 class="card-subtitle mb-2 text-muted">${e.tagline}</h6>\n                  <div class="card-text">${i}</div>\n                  <div class="card-footer">\n                    <a class="card-link" href="${t}" target="_blank">Read more ..</a>\n                  </div>\n                </div>\n              </div>\n            </li>\n          `}};return 1==r.enabled&&(o.addWidget(instantsearch.widgets.currentRefinedValues({container:'#current-refined-values',clearAll:!1})),o.addWidget(instantsearch.widgets.clearAll({container:'#clear-all',templates:{link:'Reset TAGS'},clearsQuery:!1,autoHideContainer:!1})),o.addWidget(instantsearch.widgets.pagination({container:'#pagination',maxPages:20,scrollTo:!1})),o.addWidget(instantsearch.widgets.searchBox({container:'#search-searchbar',placeholder:'Search this site ..',autofocus:!0,reset:!0,loadingIndicator:!1,poweredBy:!0})),o.addWidget(instantsearch.widgets.hits({container:'#search-hits',templates:{empty:'No results',item:c}})),o.addWidget(instantsearch.widgets.refinementList({container:'#refinement-list',attributeName:'tags',collapsible:!0,operator:'and',limit:5,sortBy:['isRefined','count:desc','name:asc'],templates:{header:'Tags'},showMore:!0}))),!0===r.enabled?(o.start(),$('#searcher').addClass('row'),t.setState('finished'),a&&i.debug('state: '+t.getState()),i.info('module initialized successfully'),d=Date.now(),i.info('module initializing time: '+(d-s)+'ms')):($('#algolia-site-search').append('<p class="ml-5 mt-5 mb-5 "> <strong>Algolia Search DISABLED</strong> </p>'),t.setState('finished'),a&&i.debug('state: '+t.getState()),a&&i.warn('module disabled')),!0},messageHandler:(e,t)=>{var s=JSON.stringify(t,undefined,2);return n='received message from '+e+': '+s,a&&i.debug(n),'command'===t.type&&'module_initialized'===t.action&&i.info(t.text),!0},setState:e=>{t.state=e},getState:()=>t.state}})(j1,window);