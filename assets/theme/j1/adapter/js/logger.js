/*
 # -----------------------------------------------------------------------------
 # ~/assets/theme/j1/adapter/js/logger.js
 # JS Adapter for for J1 Logger (log4javascript)
 #
 # Product/Info:
 # https://jekyll.one
 #
 # Copyright (C) 2023-2025 Juergen Adams
 #
 # J1 Template is licensed under the MIT License.
 # For details, see: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE
 # -----------------------------------------------------------------------------
 # Adapter generated: 2025-07-29 04:17:59 +0200
 # -----------------------------------------------------------------------------
*/
"use strict";j1.adapter.logger=(e=>{"development"===e.env||e.env;var t,a,o,l,n,s,r,p,d,i,u,g,c,m='production',v=e.generateId(11),f=e.getCookieNames(),_=!1,h={},j={},y=e=>{var t=[];try{0()}catch(u){var a=/^(.+?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/gi,o=u.stack.replace(/^.*?\n/,'').replace(/(?:\n@:0)?\s+$/m,'').replace(/^\(/gm,'{anon}(').split('\n').pop(),l=o.replace(a,'$2:$3'),n=o.split(':'),s=n[n.length-3],r=s.split('/');''==(s=r[r.length-1])&&(s='(index)');var p=n[n.length-2];t.push({name:'file',value:s}),t.push({name:'line',value:p}),t.push({name:'path',value:l}),t.push({name:'id',value:v})}for(var d=1,i=e.customFields.length;d<i;d++){e.customFields[d].name;t[d].value&&(e.customFields[d].value=t[d].value)}return t[0].value},b=()=>{};return{init:u=>{e.adapter.logger.state='started';$.extend({module_name:'j1.adapter.logger',generated:'2025-07-29 04:17:59 +0200'},u);d=e.adapter.logger,i=log4javascript.getLogger('j1.adapter.logger'),t=$.extend({},{enabled:!1,tz_offset:"GMT+01:00",appenders:[{name:"Console Appender",appender:{name:"consoleAppender",enabled:!1,type:"BrowserConsoleAppender",layout:"PatternLayout",custom_fields:["file","line","path"],pattern_string:"[%d{HH:mm:ss.SSS}] [%-5p] [%-40c] [%f{1}:%f{2}] [%m]%n                       [%f{3}]"}},{name:"Ajax Appender",appender:{name:"ajaxAppender",enabled:!1,type:"BrowserAjaxAppender",layout:"JsonLayout",custom_fields:["file","line","path"],log_folder:"log",log_file_name:"messages",log_file_ext:"log",create_on_start:!0,reset_on_start:!0,rolling_files:!1,mode:"append"}},{name:"Popup Appender",appender:{name:"popupAppender",enabled:!1,type:"PopUpAppender",width:600,height:400,lazyInit:!1,initiallyMinimized:!1,layout:"PatternLayout",custom_fields:[],pattern_string:"[%d{HH:mm:ss}] [ %-5p] - [%m{1}]%n"}}],loggers:[{name:"Parent Logger",logger:{type:"parent",name:"j1",appender:["consoleAppender","ajaxAppender"],level:{production:"warn",development:"debug"}}}]}),a=$.extend({},{tz_offset:"GMT+01:00",appenders:[{name:"Console Appender",appender:{name:"consoleAppender",enabled:!0}},{name:"Ajax Appender",appender:{name:"ajaxAppender",enabled:!1}},{name:"Popup Appender",appender:{name:"popupAppender",enabled:!1}}]}),o=$.extend(!0,{},t,a),j=o.appenders[1].appender,h=$.extend({},{enabled:!1,private_data:"_data/private.yml",ssl:!1,origin:"localhost",host_name:"0.0.0.0",port:40020,verbose:!1,logger_client:{log_folder:"log",log_file_name:"messages",log_file_ext:"log",create_on_start:!0,reset_on_start:!0,rolling_files:!1,file_mode:"append"},oauth_client:{enabled:!1,provider:"github",provider_url:"https://github.com",token_path:"/login/oauth/access_token",authorize_path:"/login/oauth/authorize"},git_client:{enabled:!1,secret:"12ada70c0d34914d194f1a790c9b23bd",payload_url:"https://smee.io/bzTe8lpQq1KeSJF",pull:{execute:!1,response_success:"The pull request to your local working copy finished successfully.",response_failed:"The pull request to your local working copy has failed. Reason: "}},npm_client:{enabled:!1,built:{execute:!1,response_success:"The built request to your local site finished successfully.",response_failed:"The built request to your local fite has failed. Reason: "}},commit_detection:{modal_commit_detected:{enabled:!0,autohide:!1,autohidden:5e3},modal_pull_response:{enabled:!0,autohide:!1,autohidden:5e3}}});var A=setInterval(()=>{if('na'!==e.readCookie(f.user_session).mode)return g=Date.now(),p='http://localhost:'+h.port+'/log2disk?request=write',(n=new log4javascript.BrowserConsoleAppender).setThreshold(log4javascript.Level.DEBUG),(l=new log4javascript.AjaxAppender(p)).setThreshold(log4javascript.Level.DEBUG),l.setWaitForResponse(!0),l.setSendAllOnUnload(!0),l.addHeader('X-Page-ID',v),l.addHeader('X-TZ-Offset',o.tz_offset),_&&l.setRequestSuccessCallback(b),r=new log4javascript.PatternLayout('[%d{HH:mm:ss.SSS}] [%f{4}] [%-5p] [%-60c] [%f{1}:%f{2}] %m%n[%f{3}]'),s=new log4javascript.HttpPostDataLayout,new log4javascript.XmlLayout,new log4javascript.JsonLayout,new log4javascript.NullLayout,new log4javascript.SimpleLayout,r.setCustomField('file',y),r.setCustomField('line',y),r.setCustomField('path',y),r.setCustomField('id',y),s.setCustomField('id',v),n.setLayout(r),l.setLayout(s),'production'===m&&log4javascript.getLogger('j1').setLevel(log4javascript.Level.WARN),'development'===m||'devel'==m||'dev'==m||'test'==m?log4javascript.getLogger('j1').setLevel(log4javascript.Level.DEBUG):log4javascript.getLogger('j1').setLevel(log4javascript.Level.WARN),log4javascript.getRootLogger().addAppender(n),d.setState('started'),i.debug('state: '+d.getState()),i.info('module is being initialized'),j.enabled?(log4javascript.getRootLogger().addAppender(l),i.info('ajax appender/util server detected as: enabled')):i.info('ajax appender/util server detected as: disabled'),d.setState('finished'),i.debug('state: '+d.getState()),i.info('module initialized successfully'),c=Date.now(),i.info('module initializing time: '+(c-g)+'ms'),clearInterval(A),!0},10)},messageHandler:(e,t)=>{var a=JSON.stringify(t,undefined,2);return u='received message from '+e+': '+a,i.debug(u),'command'===t.type&&'module_initialized'===t.action&&i.info(t.text),!0},setState:e=>{d.state=e},getState:()=>d.state}})(j1,window);