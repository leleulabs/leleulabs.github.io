/*
 # -----------------------------------------------------------------------------
 # ~/assets/theme/j1/modules/videojs/js/plugins/controls/hotkeys/hotkeys.min.js
 # Provides the hotkeys plugin of version 0.2.28 for Video.js V8 and newer
 # See: https://github.com/ctd1500/videojs-hotkeys
 #
 # Product/Info:
 # https://github.com/ctd1500/videojs-hotkeys
 # http://jekyll.one
 #
 # Copyright (C) 2014 Chris Dougherty
 # Copyright (C) 2023-2025 Juergen Adams
 #
 # Hotkeys is licensed under the Apache License 2.0.
 # See: https://github.com/ctd1500/videojs-hotkeys/blob/master/LICENSE.md
 # J1 Theme is licensed under MIT License.
 # See: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE
 # -----------------------------------------------------------------------------
*/

/*
 * Video.js Hotkeys
 * https://github.com/ctd1500/videojs-hotkeys
 *
 * Copyright (c) 2015 Chris Dougherty
 * Licensed under the Apache-2.0 license.
*/

!function(e,n){if("undefined"!=typeof window&&window.videojs)n(window.videojs);else if("function"==typeof define&&define.amd)define("videojs-hotkeys",["video.js"],function(e){return n(e.default||e)});else if("undefined"!=typeof module&&module.exports){var t=require("video.js");module.exports=n(t.default||t)}}(0,function(e){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.28"});(e.registerPlugin||e.plugin)("hotKeys",function(n){var t=this,o=t.el(),r=document,u={enabled:!1,volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!1,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},l=e.VERSION<="7.10.0"?e.mergeOptions:e.obj.merge,i=(n=l(u,n||{})).volumeStep,c=n.seekStep,a=n.enableMute,s=n.enableVolumeScroll,m=n.enableHoverScroll,f=n.enableFullscreen,y=n.enableNumbers,v=n.enableJogStyle,d=n.alwaysCaptureHotkeys,p=n.captureDocumentHotkeys,b=n.documentHotkeysFocusElementFilter,h=n.enableModifiersForNumbers,w=n.enableInactiveFocus,k=n.skipInitialFocus;o.hasAttribute("tabIndex")||o.setAttribute("tabIndex","-1"),o.style.outline="none",!d&&t.autoplay()||k||t.one("play",function(){o.focus()}),w&&t.on("userinactive",function(){var e=function(){clearTimeout(n)},n=setTimeout(function(){t.off("useractive",e);var n=r.activeElement,u=o.querySelector(".vjs-control-bar");n&&n.parentElement==u&&o.focus()},10);t.one("useractive",e)}),t.on("play",function(){var e=o.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var S=function(e){var u,l,c=e.which,s=e.preventDefault.bind(e),m=t.duration();if(t.controls()){var w=r.activeElement;if(d||p&&b(w)||w==o||w==o.querySelector(".vjs-tech")||w==o.querySelector(".vjs-control-bar")||w==o.querySelector(".iframeblocker"))switch(q(e,t)){case 1:s(),(d||p)&&e.stopPropagation(),t.paused()?T(t.play()):t.pause();break;case 2:u=!t.paused(),s(),u&&t.pause(),(l=t.currentTime()-E(e))<=0&&(l=0),t.currentTime(l),u&&T(t.play());break;case 3:u=!t.paused(),s(),u&&t.pause(),(l=t.currentTime()+E(e))>=m&&(l=u?m-.001:m),t.currentTime(l),u&&T(t.play());break;case 5:s(),v?(l=t.currentTime()-1,t.currentTime()<=1&&(l=0),t.currentTime(l)):t.volume(t.volume()-i);break;case 4:s(),v?((l=t.currentTime()+1)>=m&&(l=m),t.currentTime(l)):t.volume(t.volume()+i);break;case 6:a&&t.muted(!t.muted());break;case 7:f&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen());break;default:if((c>47&&c<59||c>95&&c<106)&&(h||!(e.metaKey||e.ctrlKey||e.altKey))&&y){var k=48;c>95&&(k=96);var S=c-k;s(),t.currentTime(t.duration()*S*.1)}for(var K in n.customKeys){var F=n.customKeys[K];F&&F.key&&F.handler&&F.key(e)&&(s(),F.handler(t,n,e))}}}},K=!1,F=o.querySelector(".vjs-volume-menu-button")||o.querySelector(".vjs-volume-panel");null!=F&&(F.onmouseover=function(){K=!0},F.onmouseout=function(){K=!1});var j=function(e){if(m)var n=0;else n=r.activeElement;if(t.controls()&&(d||n==o||n==o.querySelector(".vjs-tech")||n==o.querySelector(".iframeblocker")||n==o.querySelector(".vjs-control-bar")||K)&&s){e=window.event||e;var u=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==u?t.volume(t.volume()+i):-1==u&&t.volume(t.volume()-i)}},q=function(e,t){return n.playPauseKey(e,t)?1:n.rewindKey(e,t)?2:n.forwardKey(e,t)?3:n.volumeUpKey(e,t)?4:n.volumeDownKey(e,t)?5:n.muteKey(e,t)?6:n.fullscreenKey(e,t)?7:void 0};function E(e){return"function"==typeof c?c(e):c}function T(e){null!=e&&"function"==typeof e.then&&e.then(null,function(e){})}if(p){var g=function(e){S(e)};document.addEventListener("keydown",g),this.dispose=function(){document.removeEventListener("keydown",g)}}else t.on("keydown",S);return t.on("dblclick",function(n){if(null!=e.VERSION&&e.VERSION<="7.1.0"&&t.controls()){var u=n.relatedTarget||n.toElement||r.activeElement;u!=o&&u!=o.querySelector(".vjs-tech")&&u!=o.querySelector(".iframeblocker")||f&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen())}}),t.on("mousewheel",j),t.on("DOMMouseScroll",j),this})});
